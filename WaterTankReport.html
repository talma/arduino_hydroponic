<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ThingSpeak Distance Graph</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>Water Tank Level</h2>
  <canvas id="distanceChart"></canvas>
  <p id="last-read-timestamp" style="text-align: center; margin-bottom: 0;"></p>
  <p id="last-read-level" style="text-align: center; margin-top: 4px;"></p>

  <button type="button" class="collapsible">Water Tank Configuration</button>
  <div class="content">
    <p>Water tank interior size</p>
    <div class="config-row">
      <label for="length">Length:</label>
      <span><input type="number" id="length" name="length" value="114"> cm</span>
    </div>
    <div class="config-row">
      <label for="width">Width:</label>
      <span><input type="number" id="width" name="width" value="30"> cm</span>
    </div>
    <div class="config-row">
      <label for="maxDepth">Max Depth:</label>
      <span><input type="number" id="maxDepth" name="maxDepth" value="40"> cm</span>
    </div>
    <div class="config-row">
      <label for="topMargin">Distance meter top margin:</label>
      <span><input type="number" id="topMargin" name="topMargin" value="3"> cm</span>
    </div>
    <div class="config-row">
      <label for="yAxisType">Y Axis:</label>
      <select id="yAxisType" name="yAxisType">
        <option value="capacity" selected>Water capacity (liter)</option>
        <option value="level">Water level (cm)</option>
      </select>
    </div>
  </div>

  <button type="button" class="collapsible">Display Configuration</button>
  <div class="content">
    <div class="config-row">
      <label for="groupBy">Group events by:</label>
      <select id="groupBy" name="groupBy">
        <option value="minutes">Minutes</option>
        <option value="hours" selected>Hours</option>
        <option value="days">Days</option>
      </select>
    </div>
    <div class="config-row">
      <label for="lastDays">Show last:</label>
      <span><input type="number" id="lastDays" name="lastDays" value="7"> days</span>
    </div>
    <div class="config-row">
      <label for="autoRefresh">Auto refresh interval:</label>
      <span><input type="number" id="autoRefresh" name="autoRefresh" value="10"> sec</span>
    </div>
  </div>

  <button type="button" id="resetConfigBtn" style="margin-top: 10px;">Reset Configuration</button>

  <script src="script.js"></script>
</body>
</html>